+++
date = "2017-07-01T18:03:52+03:00"
author = "Alan Orth"
title = "July, 2017"
tags = ["Notes"]

+++
## 2017-07-01

- Run system updates and reboot DSpace Test

## 2017-07-04

- Merge changes for WLE Phase II theme rename ([#329](https://github.com/ilri/DSpace/pull/329))
- Looking at extracting the metadata registries from ICARDA's MEL DSpace database so we can compare fields with CGSpace
- We can use PostgreSQL's extended output format (`-x`) plus `sed` to format the output into quasi XML:

<!--more-->

```
$ psql dspacenew -x -c 'select element, qualifier, scope_note from metadatafieldregistry where metadata_schema_id=5 order by element, qualifier;' | sed -r 's:^-\[ RECORD (.*) \]-+$:</dc-type>\n<dc-type>:;s:([^ ]*) +\| (.*):  <\1>\2</\1>:;s:^$:</dc-type>:;1s:</dc-type>\n::'
```

- The `sed` script is from a post on the [PostgreSQL mailing list](https://www.postgresql.org/message-id/437E44A5.508%40ultimeth.com)
- Abenet says the ILRI board wants to be able to have "lead author" for every item, so I've whipped up a WIP test in the `5_x-lead-author` branch
- It works but is still very rough and we haven't thought out the whole lifecycle yet

![Testing lead author in submission form](/cgspace-notes/2017/07/lead-author-test.png)

- I assume that "lead author" would actually be the first question on the item submission form
- We also need to check to see which ORCID authority core this uses, because it seems to be using an entirely new one rather than the one for `dc.contributor.author` (which makes sense of course, but fuck, all the author problems aren't bad enough?!)
- Also would need to edit XMLUI item displays to incorporate this into authors list
- And fuck, then anyone consuming our data via REST / OAI will not notice that we have an author outside of `dc.contributor.authors`... ugh
